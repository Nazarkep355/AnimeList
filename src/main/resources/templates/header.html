<html xmlns:th="https://www.thymeleaf.org"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<header th:fragment="header" class="p-3 text-bg-dark">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"></link>
    <div class="container">
        <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
            <a href="/" class="d-flex align-items-center mb-2 mb-lg-0 text-white text-decoration-none">
                <svg width="50" height="36" xmlns="http://www.w3.org/2000/svg">
                    <g>
                        <title>Layer 1</title>
                        <rect stroke="#000" rx="2" id="svg_3" height="25"
                              width="25" y="0" x="19" stroke-width="0"
                              fill="#FFE2FF"/>
                        <text font-style="normal" font-weight="normal" xml:space="preserve"
                              text-anchor="start" font-family="sans-serif" font-size="19" id="svg_1"
                              y="18" x="25" stroke-width="0" stroke="#000" fill="#000000"
                        >A</text>
                    </g>
                </svg>
            </a>

            <ul class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0">
                <li><a href="#" class="nav-link px-2 text-secondary" th:text="#{title.home}"></a></li>
                <li><a href="/?lang=en" class="nav-link px-2 text-white">Features</a></li>
                <li><a href="/?lang=uk" class="nav-link px-2 text-white">Pricing</a></li>
                <li><a href="#" class="nav-link px-2 text-white">FAQs</a></li>
                <li><a href="#" class="nav-link px-2 text-white">About</a></li>
            </ul>

            <div ng-app="search">
                <form ng-controller="searchcontroller" class="col-12 col-lg-auto mb-3 mb-lg-0 me-lg-3" role="search">
                    <input type="search" ng-model="searchName" ng-change="search()"
                           class="form-control form-control-dark text-bg-dark" placeholder="Search..."
                           aria-label="Search">
                    <div class="container" style="margin-left: 5px;position:absolute;max-width:350px;
                            max-height: 600px;background: white;">
                        <div class="row" style="min-height: 200px; max-height:200px; min-width: 350px;  color:black"
                             ng-repeat="anime in animes">
                            <div class="col">
                                <img height="180px" src="/images/{{anime.poster}}">
                            </div>
                            <div class="col">
                                {{anime.title}}
                            </div>

                        </div>
                    </div>
                    <script>
                        searchapp = angular.module('search', [])

                        searchapp.controller("searchcontroller", function ($scope, $http) {


                            $scope.search = function () {
                                // console.log($scope.searchName)
                                // if ($scope.searchName != null&&$scope.searchName.length>2) {
                                    $http.get("/anime/" + $scope.searchName)
                                        .then
                                        (function (response) {
                                            $scope.animes = response.data.content;

                                        }, function (error) {
                                            alert(error.message)
                                        });
                                // }
                                console.log($scope.animes)
                            }


                        })
                    </script>
                </form>
            </div>

            <div class="text-end">
                <button type="button" class="btn btn-outline-light me-2">Login</button>
                <button type="button" class="btn btn-warning">Sign-up</button>
            </div>
        </div>
    </div>
</header>
</html>